{% extends "layouts/base.html" %}

{% block title %}Previously run Tests{% endblock %}

{% block content %}
<a class="btn btn-primary mb-2" href="{{ url_for('tests.create') }}">Run a new test</a>
<table class="table table-hover table-clickable-rows">
    <thead>
      <tr>
        <th scope="col">Name</th>
        <th scope="col">Run By</th>
        <th scope="col">Created At</th>
        <th scope="col">Notes</th>
      </tr>
    </thead>
    <tbody>
      {% for result in results %}
      <tr onclick="window.location='{{ url_for('tests.show', result_id=result.id) }}';">
        <th scope="row">{{ result.attack.name }}</th>
        <td>{{ result.submitted_by.name if result.submitted_by else "" }}</td>
        <td>{{ result.created_at | formatdatetime }}</td>
        <td>{{ result.notes or "" }}</td>
      </tr>
      {% endfor %}
    </tbody>
  </table>

{% endblock %}
